(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var s=r.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),document.querySelector(".usercard__name-user").textContent,document.querySelector(".usercard__about-me").textContent;const t=document.querySelector(".popup__input_profile_name-user"),r=document.querySelector(".popup__input_profile_about-me"),s=document.querySelector(".usercard__edit"),n=document.querySelector("#edit-profile"),i=document.querySelector(".usercard__add-post"),o=document.querySelector("#popup-new-place").querySelector(".popup__form"),a=n.querySelector(".popup__form"),c=document.querySelector(".popup__name-img"),l=document.querySelector(".usercsrg__avatar-conteiner"),u=document.querySelector(".usercsrd__avatar"),p=(document.querySelector("#avatar"),document.querySelector(".popup__input_avatar"),document.querySelector("#form-avatar"));class _{constructor({data:e,handleCardClick:t},r){this._name=e.name,this._link=e.link,this._cardTemplate=document.querySelector(r),this._handleCardClick=t}createCard(){return this._element=this._cloneCard(),this._setEventListeners(),this.cardImg=this._element.querySelector(".usercard__img-cards"),this._element.querySelector(".usercard__name-cards").textContent=this._name,this.cardImg.alt=this._name,this.cardImg.src=this._link,this._element}_cloneCard(){return this._cardTemplate.content.querySelector(".usercard__card").cloneNode(!0)}_setEventListeners(){this._element.querySelector(".usercard__btn-delete").addEventListener("click",(()=>this._onClickDelete())),this._element.querySelector(".usercard__like-button").addEventListener("click",this._onClickLike),this._element.querySelector(".usercard__img-cards").addEventListener("click",this._handleCardClick.bind(this))}_onClickDelete(){this._element.remove(),this._element=null}_onClickLike(){this.classList.toggle("usercard__like-button_active")}}class d{constructor(e,t){this._formElement=t,this._inputSelector=e.inputSelector,this._submitButtonElement=this._formElement.querySelector(e.submitButtonSelector),this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}_showInputError(e,t){const r=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),r.textContent=t,r.classList.add(this._errorClass)}_hideInputError=e=>{const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)};_validateField(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?(this._submitButtonElement.classList.add(this._inactiveButtonClass),this._submitButtonElement.setAttribute("disabled",!0)):(this._submitButtonElement.removeAttribute("disabled"),this._submitButtonElement.classList.remove(this._inactiveButtonClass))}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._validateField(e),this._toggleButtonState()}))}))}resetSppanError(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class m{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._overlayClick=this._overlayClick.bind(this)}open(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),document.addEventListener("click",this._overlayClick)}close(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("click",this._overlayClick)}_handleEscClose(e){"Escape"===e.key&&this._popup.classList.contains("popup_opened")&&this.close()}_overlayClick(e){e.target.classList.contains("popup")&&this.close()}setEventListeners(){this._popup.querySelector(".popup__close").addEventListener("click",(()=>this.close()))}}class h extends m{constructor(e,t){super(e),this._handleFormSubmit=t,this._inputList=document.querySelectorAll(".popup__input")}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>this._formValues[e.name]=e.value)),this._formValues}setEventListeners(){super.setEventListeners(),this._form=this._popup.querySelector(".popup__form"),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){super.close(),this._form.reset()}}const v={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__btn",inactiveButtonClass:"popup__btn_invalid",inputErrorClass:"popup__input_type_error",errorClass:"error_active"},E=[{name:"Аланский Успенский мужской монастырь",link:e.p+"ea3ea5698ecf08ff4a40.jpg"},{name:"Тоторс",link:e.p+"8ba7a4bb1fba7fe0c56a.jpg"},{name:"Даргавс",link:e.p+"c0d040fe474ea32ec256.jpg"},{name:"Цейское ущелье",link:e.p+"6643d9df4f038302ba2f.jpg"},{name:"Караугом",link:e.p+"5de75ee27b6c1127a983.jpg"},{name:"Владикавказ",link:e.p+"d64b7faed18d800f471a.jpg"}],f=new class{constructor({nameSelector:e,aboutSelector:t}){this._name=document.querySelector(e),this._about=document.querySelector(t)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo({name:e,about:t}){this._name.textContent=e,this._about.textContent=t}}({nameSelector:".usercard__name-user",aboutSelector:".usercard__about-me"}),S=new class extends m{constructor(e){super(e),this._popupImg=this._popup.querySelector(".popup__img"),this._popupNameImg=this._popup.querySelector(".popup__name-img")}open(e){super.open(),this._popupImg.src=e.src,this._popupImg.alt=e.alt,this._popupNameImg.textContent=e.name}}("#popup-new-place-img"),b=new h("#popup-new-place",(function({place:e,link:t}){C.addItems(I({name:e,link:t,alt:e})),b.close()})),g=new h("#edit-profile",(function({name:e,about:t}){f.setUserInfo({name:e,about:t}),g.close()})),y=new h("#avatar",(function(){u.link=avatarInout.value,y.close()})),C=new class{constructor({items:e,renderer:t},r){this._items=e,this._renderer=t,this._container=document.querySelector(r)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItems(e){this._container.prepend(e)}}({items:E,renderer:e=>C.addItems(I(e))},".usercard__content"),L=new d(v,o);L.enableValidation();const k=new d(v,a);k.enableValidation(),console.log(p);const q=new d(v,p);function I(e){return new _({data:e,handleCardClick:w},".usercard__blank-card").createCard()}function w(e){const t=e.target.getAttribute("src"),r=e.target.getAttribute("alt");S.open({src:t,alt:r}),c.textContent=r}q.enableValidation(),s.addEventListener("click",(function(){g.open(),k.resetSppanError(),t.value=f.getUserInfo().name,r.value=f.getUserInfo().about})),i.addEventListener("click",(function(){b.open(),L.resetSppanError()})),l.addEventListener("click",(function(){y.open(),q.resetSppanError()})),C.renderItems(),b.setEventListeners(),g.setEventListeners(),S.setEventListeners(),y.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBYXJELG1CQUViLE1BQU1zRCxFQUFnQixJQUFJMUYsRUFBYzRELEVBQWtCM0YsR0FDMUR5SCxFQUFjdEQsbUJBQ2R1RCxRQUFRQyxJQUFJdkgsR0FDWixNQUFNd0gsRUFBa0IsSUFBSTdGLEVBQWM0RCxFQUFrQnZGLEdBZTVELFNBQVNZLEVBQVdxRyxHQUNuQixPQUFPLElBQUloSCxFQUFLLENBQUNFLEtBQU04RyxFQUFNN0csZ0JBQUFBLEdBQWtCLHlCQUF5QlEsYUE2QnpFLFNBQVNSLEVBQWdCNEQsR0FDeEIsTUFBTXlELEVBQWdCekQsRUFBSVksT0FBTzhDLGFBQWEsT0FDeENDLEVBQWdCM0QsRUFBSVksT0FBTzhDLGFBQWEsT0FHOUN6QixFQUFlMUIsS0FBTSxDQUFDMUYsSUFBSzRJLEVBQWV4RyxJQUFLMEcsSUFDL0M5SCxFQUFRUixZQUFjc0ksRUFsRHZCSCxFQUFnQnpELG1CQXNEaEJ2RSxFQUFRNEIsaUJBQWlCLFNBbkN6QixXQUNDb0YsRUFBVWpDLE9BQ1Y4QyxFQUFjdkQsa0JBQ2R4RSxFQUFVOEYsTUFBUU0sRUFBU0ksY0FBY3ZGLEtBQ3pDaEIsRUFBVzZGLE1BQVFNLEVBQVNJLGNBQWNDLFNBaUMzQ3JHLEVBQVkwQixpQkFBaUIsU0F2QjdCLFdBQ0NnRixFQUFTN0IsT0FDVDZDLEVBQWF0RCxxQkF1QmRoRSxFQUFnQnNCLGlCQUFpQixTQWxEakMsV0FDQ3FGLEVBQVlsQyxPQUNaaUQsRUFBZ0IxRCxxQkFtRGpCd0MsRUFBWVUsY0FDWlosRUFBU3ZCLG9CQUNUMkIsRUFBVTNCLG9CQUNWb0IsRUFBZXBCLG9CQUNmNEIsRUFBWTVCLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2luaXRpYWwt0YFhcmRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyDQl9Cw0LPQvtC70L7QstC60LggXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcmNhcmRfX25hbWUtdXNlclwiKS50ZXh0Q29udGVudDsgXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXRNZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXNlcmNhcmRfX2Fib3V0LW1lXCIpLnRleHRDb250ZW50O1xyXG5cclxuLy8g0JjQvdC/0YPRgtGLXHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9wcm9maWxlX25hbWUtdXNlclwiKTtcclxuZXhwb3J0IGNvbnN0IGFib3V0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9wcm9maWxlX2Fib3V0LW1lXCIpO1xyXG5cclxuLy8g0KPQv9GA0LDQstC70LXQvdC40LUgcG9wdXBcclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJjYXJkX19lZGl0XCIpO1xyXG5leHBvcnQgY29uc3QgZWRpdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGVcIik7XHJcblxyXG4vKiAgICBwb3B1cCBuZXcgcGxhY2UgICAgICovIFxyXG5leHBvcnQgY29uc3QgYnRuTmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVzZXJjYXJkX19hZGQtcG9zdFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1uZXctcGxhY2VcIik7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkRm9ybSA9IGFkZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG5leHBvcnQgY29uc3QgZWRpdEZvcm0gPSBlZGl0UG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19uYW1lLWltZycpO1xyXG5cclxuLypBdmF0YXIgKi9cclxuZXhwb3J0IGNvbnN0IGF2YXRhckNvbnRlaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyY3NyZ19fYXZhdGFyLWNvbnRlaW5lcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJjc3JkX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW5vdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtLWF2YXRhcicpOyIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuXHRjb25zdHJ1Y3Rvcih7ZGF0YSwgaGFuZGxlQ2FyZENsaWNrfSwgY2FyZFRlbXBsYXRlU2VsZWN0b3Ipe1xyXG5cdFx0dGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuXHRcdHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcblx0XHR0aGlzLl9jYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRUZW1wbGF0ZVNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuXHR9XHJcblx0XHJcblx0Y3JlYXRlQ2FyZCgpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9jbG9uZUNhcmQoKTtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHRcdHRoaXMuY2FyZEltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJjYXJkX19pbWctY2FyZHMnKTtcclxuXHRcdHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJjYXJkX19uYW1lLWNhcmRzJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cdFx0dGhpcy5jYXJkSW1nLmFsdCA9IHRoaXMuX25hbWU7XHJcblx0XHR0aGlzLmNhcmRJbWcuc3JjID0gdGhpcy5fbGluaztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuXHR9XHJcblxyXG5cdF9jbG9uZUNhcmQoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnVzZXJjYXJkX19jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xyXG5cdH0gICAgXHJcblxyXG5cdF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuXHRcdC8vZGVsXHJcblx0XHR0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VyY2FyZF9fYnRuLWRlbGV0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fb25DbGlja0RlbGV0ZSgpKTtcclxuXHJcblx0XHQvL2xpa2VcclxuXHRcdHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJjYXJkX19saWtlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgIHRoaXMuX29uQ2xpY2tMaWtlKTtcclxuXHJcblx0XHQvL3ByZXZpZXdcclxuXHRcdHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJjYXJkX19pbWctY2FyZHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNhcmRDbGljay5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblx0XHJcblx0X29uQ2xpY2tEZWxldGUgKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0X29uQ2xpY2tMaWtlKCkge1xyXG5cdFx0dGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd1c2VyY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcblx0fVxyXG5cclxufTtcclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG5cdGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpe1xyXG5cdFx0dGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuXHRcdHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblx0XHR0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcblx0XHR0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG5cdFx0dGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG5cdFx0dGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuXHR9XHJcblxyXG5cdF9zaG93SW5wdXRFcnJvcihpbnB1dCwgZXJyb3JNZXNzYWdlKSB7XHJcblx0XHRjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuXHRcdGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdC8vINCf0L7QutCw0LfRi9Cy0LDQtdC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxyXG5cdFx0ZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG5cdFx0ZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7Ly/Qv9C+0LTRgdCy0LXRgiDQutGA0LDRgdC90YvQvFxyXG5cdH07XHJcblxyXG5cdF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dCkgPT4ge1xyXG5cdFx0Y29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcblx0XHRpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcblx0XHQgLy8g0KHQutGA0YvQstCw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcclxuXHRcdCBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuXHRcdCAvLyDRg9Cx0LjRgNCw0LXQvCDQv9C+0LTRgdCy0LXRgtC60YNcclxuXHRcdCAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcblx0fTtcclxuXHJcblx0X3ZhbGlkYXRlRmllbGQgKGlucHV0KSB7XHJcblx0XHRpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcblx0XHRcdC8vINCV0YHQu9C4INC/0L7Qu9C1INC90LUg0L/RgNC+0YXQvtC00LjRgiDQstCw0LvQuNC00LDRhtC40Y4sINC/0L7QutCw0LbQtdC8INC+0YjQuNCx0LrRg1xyXG5cdFx0XHR0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8g0JXRgdC70Lgg0L/RgNC+0YXQvtC00LjRgiwg0YHQutGA0L7QtdC8XHJcblx0XHRcdHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRfaGFzSW52YWxpZElucHV0KCkgeyBcclxuXHRcdC8vINC/0YDQvtGF0L7QtNC40Lwg0L/QviDRjdGC0L7QvNGDINC80LDRgdGB0LjQstGDINC80LXRgtC+0LTQvtC8IHNvbWVcclxuXHRcdHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcclxuXHRcdCAgLy8g0JXRgdC70Lgg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3Qviwg0LrQvtC70LHRjdC6INCy0LXRgNC90ZHRgiB0cnVlXHJcblx0XHQgIC8vINCe0LHRhdC+0LQg0LzQsNGB0YHQuNCy0LAg0L/RgNC10LrRgNCw0YLQuNGC0YHRjyDQuCDQstGB0Y8g0YTRg9C90YbQutGG0LjRj1xyXG5cdFx0ICAvLyBoYXNJbnZhbGlkSW5wdXQg0LLQtdGA0L3RkdGCIHRydWVcclxuXHQgXHJcblx0XHQgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHRfdG9nZ2xlQnV0dG9uU3RhdGUgKCkge1xyXG5cdFx0Ly8g0JXRgdC70Lgg0LXRgdGC0Ywg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDQvdC10LLQsNC70LjQtNC90YvQuSDQuNC90L/Rg9GCXHJcblx0XHRpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuXHRcdCAgLy8g0YHQtNC10LvQsNC5INC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuVxyXG5cdFx0ICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcblx0XHQgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdCAgLy8g0LjQvdCw0YfQtSDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINCw0LrRgtC40LLQvdC+0LlcclxuXHRcdCAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcblx0XHQgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHRcdH1cclxuXHR9OyBcclxuXHJcblx0XHJcblx0X3NldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuXHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblx0XHQvLyDQntCx0L7QudC00ZHQvCDQstGB0LUg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0LvRg9GH0LXQvdC90L7QuSDQutC+0LvQu9C10LrRhtC40LhcclxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0ICAvLyDQutCw0LbQtNC+0LzRgyDQv9C+0LvRjiDQtNC+0LHQsNCy0LjQvCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyBpbnB1dFxyXG5cdFx0ICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuXHRcdFx0IHRoaXMuX3ZhbGlkYXRlRmllbGQoaW5wdXQpO1xyXG5cdFx0XHQgLy8g0JLRi9C30L7QstC10LwgdG9nZ2xlQnV0dG9uU3RhdGUgXHJcblx0XHRcdCB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cdFx0ICB9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cclxuXHRyZXNldFNwcGFuRXJyb3IoKSAge1xyXG5cdFx0XHR0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cdFx0XHR0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcblx0XHRcdFx0dGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcblx0XHR0aGlzLl9zZXRFdmVudExpc3RlbmVycyAoKVxyXG5cdFx0Ly8g0J/QtdGA0LXQsdC10YDRkdC8INC/0L7Qu9GD0YfQtdC90L3Rg9GOINC60L7Qu9C70LXQutGG0LjRjlxyXG5cdFx0XHQgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuXHRcdFx0IC8vINCjINC60LDQttC00L7QuSDRhNC+0YDQvNGLINC+0YLQvNC10L3QuNC8INGB0YLQsNC90LTQsNGA0YLQvdC+0LUg0L/QvtCy0LXQtNC10L3QuNC1XHJcblx0XHRcdCBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCAgfSk7XHJcblx0IFxyXG5cdFx0ICAvLyDQlNC70Y8g0LrQsNC20LTQvtC5INGE0L7RgNC80Ysg0LLRi9C30L7QstC10Lwg0YTRg9C90LrRhtC40Y4gc2V0RXZlbnRMaXN0ZW5lcnMsXHJcblx0XHQgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdFx0XHRcclxuXHRcdH07XHJcblx0XHJcblx0XHRcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXB7XHJcbiAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKXtcclxuICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl9vdmVybGF5Q2xpY2sgPSB0aGlzLl9vdmVybGF5Q2xpY2suYmluZCh0aGlzKTtcclxuICAgfTtcclxuXHJcbiAgIG9wZW4oKSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgIHRoaXMuX292ZXJsYXlDbGljayk7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCAgdGhpcy5fb3ZlcmxheUNsaWNrKTtcclxuICAgfVxyXG5cclxuICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xyXG4gICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX292ZXJsYXlDbGljayhldnQpe1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJykpIHtcclxuICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpe1xyXG4gICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICB0aGlzLl9pbnB1dExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgfVxyXG5cclxuICAgX2dldElucHV0VmFsdWVzKCl7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XHJcbiAgICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gICB9XHJcblxyXG4gICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgIH1cclxufSIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG5cdGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcblx0aW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG5cdHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19idG4nLFxyXG5cdGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnRuX2ludmFsaWQnLFxyXG5cdGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuXHRlcnJvckNsYXNzOiAnZXJyb3JfYWN0aXZlJyxcclxufTsiLCJpbXBvcnQgYWxhbkhvbHlJbWcgZnJvbSAnLi8uLi9pbWcvQWxhbl9Ib2x5X0Rvcm1pdGlvbl9Nb25hc3RlcnkuanBnJztcclxuaW1wb3J0IHRvdG9yc0ltZyBmcm9tICcuLy4uL2ltZy/QotC+0YLQvtGA0YEuanBnJztcclxuaW1wb3J0IHRvd25EZWFkSW1nIGZyb20gJy4vLi4vaW1nL3Rvd24tb2YtdGhlLWRlYWQuanBnJztcclxuaW1wb3J0IHRzZXlHb3JnZUltZyBmcm9tICcuLy4uL2ltZy9Uc2V5X0dvcmdlLmpwZyc7XHJcbmltcG9ydCBrYXJhdWdvbUltZyBmcm9tICcuLy4uL2ltZy/QmtCw0YDQsNGD0LPQvtC8LmpwZyc7XHJcbmltcG9ydCB2bGFkaWthdmthekltZyBmcm9tICcuLy4uL2ltZy92bGFkaWthdmthei5qcGcnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuXHR7XHJcblx0XHQgbmFtZTogJ9CQ0LvQsNC90YHQutC40Lkg0KPRgdC/0LXQvdGB0LrQuNC5INC80YPQttGB0LrQvtC5INC80L7QvdCw0YHRgtGL0YDRjCcsXHJcblx0XHQgbGluazogYWxhbkhvbHlJbWdcclxuXHR9LFxyXG5cdHtcclxuXHRcdCBuYW1lOiAn0KLQvtGC0L7RgNGBJyxcclxuXHRcdCBsaW5rOiB0b3RvcnNJbWdcclxuXHR9LFxyXG5cdHtcclxuXHRcdCBuYW1lOiAn0JTQsNGA0LPQsNCy0YEnLFxyXG5cdFx0IGxpbms6IHRvd25EZWFkSW1nXHJcblx0fSxcclxuXHR7XHJcblx0XHQgbmFtZTogJ9Cm0LXQudGB0LrQvtC1INGD0YnQtdC70YzQtScsXHJcblx0XHQgbGluazogdHNleUdvcmdlSW1nXHJcblx0fSxcclxuXHR7XHJcblx0XHQgbmFtZTogJ9Ca0LDRgNCw0YPQs9C+0LwnLFxyXG5cdFx0IGxpbms6IGthcmF1Z29tSW1nXHJcblx0fSxcclxuXHR7XHJcblx0XHQgbmFtZTogJ9CS0LvQsNC00LjQutCw0LLQutCw0LcnLFxyXG5cdFx0IGxpbms6IHZsYWRpa2F2a2F6SW1nXHJcblx0fSxcclxuXTsiLCJpbXBvcnQge3Byb2ZpbGVOYW1lLGF2YXRhckNvbnRlaW5lciwgYXZhdGFySW1nLCBhZGRGb3JtLCBhdmF0YXJGb3JtLCBwcm9maWxlQWJvdXRNZSwgbmFtZUltZywgZWRpdEZvcm0sIG5hbWVJbnB1dCwgYWRkUG9wdXAsIGFib3V0SW5wdXQsIGJ0bkVkaXQsIGJ0bk5ld1BsYWNlfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IHt2YWxpZGF0aW9uQ29uZmlnfSBmcm9tICcuLi91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzJztcclxuaW1wb3J0IHtpbml0aWFsQ2FyZHN9IGZyb20gJy4uL3V0aWxzL2luaXRpYWwt0YFhcmRzLmpzJztcclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG4vL9C00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe25hbWVTZWxlY3RvcjpcIi51c2VyY2FyZF9fbmFtZS11c2VyXCIsIGFib3V0U2VsZWN0b3I6XCIudXNlcmNhcmRfX2Fib3V0LW1lXCJ9KTtcclxuLy8gcG9wdXAgaW1nXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwLW5ldy1wbGFjZS1pbWdcIik7XHJcbi8vIHBvcHVwIGFkZFxyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLW5ldy1wbGFjZVwiLCBhZGRGb3JtU3VibWl0SGFuZGxlcik7XHJcbi8vcG9wdXAgZWRpdCBcclxuY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjZWRpdC1wcm9maWxlXCIsIGVkaXRGb3JtU3VibWl0SGFuZGxlcik7XHJcbi8vcG9wdXAgYXZhdGFyXHJcbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYXZhdGFyXCIsIGF2YXRhckZvcm1TdWJtaXRIYW5kbGVyKVxyXG4vL2NhcmQgc2VjdGlvblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcclxuXHRpdGVtczogaW5pdGlhbENhcmRzLCBcclxuXHRyZW5kZXJlcjogKGl0ZW0pID0+IGNhcmRTZWN0aW9uLmFkZEl0ZW1zKGNyZWF0ZUNhcmQoaXRlbVxyXG5cdFx0KSl9LCBcIi51c2VyY2FyZF9fY29udGVudFwiKTtcclxuXHJcbiBcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGFkZEZvcm0pO1xyXG5hZGRGb3JtVmFsaWQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGVkaXRGb3JtKTtcclxuZWRpdEZvcm1WYWxpZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNvbnNvbGUubG9nKGF2YXRhckZvcm0pO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBhdmF0YXJGb3JtKTtcclxuYXZhdGFyRm9ybVZhbGlkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcblxyXG5mdW5jdGlvbiBhdmF0YXJGb3JtU3VibWl0SGFuZGxlcigpIHtcclxuXHRhdmF0YXJJbWcubGluayA9IGF2YXRhcklub3V0LnZhbHVlO1xyXG5cdHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGF2YXRhclBvcHVwKCkge1xyXG5cdHBvcHVwQXZhdGFyLm9wZW4oKTtcclxuXHRhdmF0YXJGb3JtVmFsaWQucmVzZXRTcHBhbkVycm9yKCk7XHJcbn0gXHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLRiyDRh9C10YDQtdC3INC/0L7Qv9Cw0L9cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcblx0cmV0dXJuIG5ldyBDYXJkKHtkYXRhOiBpdGVtLCBoYW5kbGVDYXJkQ2xpY2t9LCAnLnVzZXJjYXJkX19ibGFuay1jYXJkJykuY3JlYXRlQ2FyZCgpO1xyXG59XHJcblxyXG4vL9C+0YLQvtCx0YDQsNC20LXQvdC40LUg0LjQvdGE0Ysg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbmZ1bmN0aW9uIGVkaXRQcm9maWxlKCkge1xyXG5cdHBvcHVwRWRpdC5vcGVuKCk7XHJcblx0ZWRpdEZvcm1WYWxpZC5yZXNldFNwcGFuRXJyb3IoKTtcclxuXHRuYW1lSW5wdXQudmFsdWUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpLm5hbWU7XHJcblx0YWJvdXRJbnB1dC52YWx1ZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuYWJvdXQ7XHJcbn1cclxuXHJcbi8vINC60L7Qu9Cx0Y3QuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLIGVkaXRcclxuZnVuY3Rpb24gZWRpdEZvcm1TdWJtaXRIYW5kbGVyKHtuYW1lLCBhYm91dH0pIHtcclxuXHR1c2VySW5mby5zZXRVc2VySW5mbyh7bmFtZSwgYWJvdXR9KTtcclxuXHRwb3B1cEVkaXQuY2xvc2UoKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGFkZEVsZW1lbnQoKSB7XHJcblx0cG9wdXBBZGQub3BlbigpO1xyXG5cdGFkZEZvcm1WYWxpZC5yZXNldFNwcGFuRXJyb3IoKTtcclxufVxyXG5cclxuLy8g0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YsgYWRkXHJcbmZ1bmN0aW9uIGFkZEZvcm1TdWJtaXRIYW5kbGVyKCB7cGxhY2UsIGxpbmt9ICkge1xyXG5cdGNhcmRTZWN0aW9uLmFkZEl0ZW1zKGNyZWF0ZUNhcmQoIHtuYW1lOiBwbGFjZSwgbGluazogbGluaywgYWx0OiBwbGFjZX0gKSk7XHJcblx0cG9wdXBBZGQuY2xvc2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKGV2dCkge1xyXG5cdGNvbnN0IHBvcHVwSW1hZ2VTcmMgPSBldnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcclxuXHRjb25zdCBwb3B1cEltYWdlQWx0ID0gZXZ0LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7XHJcblx0XHJcblx0XHJcblx0cG9wdXBXaXRoSW1hZ2Uub3Blbigge3NyYzogcG9wdXBJbWFnZVNyYywgYWx0OiBwb3B1cEltYWdlQWx0fSApO1xyXG5cdG5hbWVJbWcudGV4dENvbnRlbnQgPSBwb3B1cEltYWdlQWx0O1xyXG59XHJcbiBcclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQutC90L7Qv9C60YMg0YDRg9GH0LrQuFxyXG5idG5FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdFByb2ZpbGUpO1xyXG4vLyDRgdC70YPRiNCw0YLQtdC70Ywg0LAg0LrQvdC+0L/QutGDICtcclxuYnRuTmV3UGxhY2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRFbGVtZW50KTtcclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L3QsCBhdmF0YXIgY29udGVpbmVyXHJcbmF2YXRhckNvbnRlaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGF2YXRhclBvcHVwKTtcclxuIFxyXG5cclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZve1xyXG4gICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yfSl7XHJcbiAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dFNlbGVjdG9yKTtcclxuICAgfVxyXG5cclxuICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybntcclxuICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgIH1cclxuXHJcbiAgIHNldFVzZXJJbmZvKHtuYW1lLCBhYm91dH0pe1xyXG4gICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuICIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKXtcclxuICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICB0aGlzLl9wb3B1cEltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICAgIHRoaXMuX3BvcHVwTmFtZUltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbmFtZS1pbWcnKTtcclxuICAgfVxyXG5cclxuICAgb3BlbihkYXRhKSB7XHJcbiAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgdGhpcy5fcG9wdXBJbWcuc3JjID0gZGF0YS5zcmM7XHJcbiAgICAgIHRoaXMuX3BvcHVwSW1nLmFsdCA9IGRhdGEuYWx0OyBcclxuICAgICAgdGhpcy5fcG9wdXBOYW1lSW1nLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICB9ICAgXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIHNlbGVjdG9yKXtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9ICByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICB9XHJcblxyXG4gICByZW5kZXJJdGVtcygpIHtcclxuICAgICAgdGhpcy5faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuICAgXHJcbiAgIGFkZEl0ZW1zKGVsKXtcclxuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWwpXHJcbiAgIH1cclxufTtcclxuXHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsIm5hbWVJbnB1dCIsImFib3V0SW5wdXQiLCJidG5FZGl0IiwiZWRpdFBvcHVwIiwiYnRuTmV3UGxhY2UiLCJhZGRGb3JtIiwiZWRpdEZvcm0iLCJuYW1lSW1nIiwiYXZhdGFyQ29udGVpbmVyIiwiYXZhdGFySW1nIiwiYXZhdGFyRm9ybSIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkVGVtcGxhdGUiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY3JlYXRlQ2FyZCIsIl9lbGVtZW50IiwiX2Nsb25lQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImNhcmRJbWciLCJhbHQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vbkNsaWNrRGVsZXRlIiwiX29uQ2xpY2tMaWtlIiwiYmluZCIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3ZhbGlkYXRlRmllbGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImZvckVhY2giLCJyZXNldFNwcGFuRXJyb3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX292ZXJsYXlDbGljayIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjb250YWlucyIsInRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1WYWx1ZXMiLCJ2YWx1ZSIsIl9mb3JtIiwicmVzZXQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5pdGlhbENhcmRzIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJhYm91dFNlbGVjdG9yIiwiX2Fib3V0IiwiZ2V0VXNlckluZm8iLCJhYm91dCIsInNldFVzZXJJbmZvIiwicG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWciLCJfcG9wdXBOYW1lSW1nIiwicG9wdXBBZGQiLCJwbGFjZSIsImNhcmRTZWN0aW9uIiwiYWRkSXRlbXMiLCJwb3B1cEVkaXQiLCJwb3B1cEF2YXRhciIsImF2YXRhcklub3V0IiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJlbCIsInByZXBlbmQiLCJhZGRGb3JtVmFsaWQiLCJlZGl0Rm9ybVZhbGlkIiwiY29uc29sZSIsImxvZyIsImF2YXRhckZvcm1WYWxpZCIsInBvcHVwSW1hZ2VTcmMiLCJnZXRBdHRyaWJ1dGUiLCJwb3B1cEltYWdlQWx0Il0sInNvdXJjZVJvb3QiOiIifQ==